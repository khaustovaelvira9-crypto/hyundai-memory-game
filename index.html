<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ó–Ω–∞–π–¥–∏ –ø–∞—Ä—É ‚Äî Hyundai</title>
<style>
:root {
  --blue-main: #0066cc;
  --blue-dark: #003366;
  --blue-light: #e6f0ff;
  --card-size: 140px;
  --gap: 14px;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: "Segoe UI", Roboto, Arial, sans-serif;
  background: linear-gradient(180deg, var(--blue-light), white);
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--blue-dark);
}
.container {
  width: 100%;
  max-width: 900px;
  padding: 20px;
}
header {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 16px;
}
header h1 {
  font-size: 22px;
  color: var(--blue-dark);
  margin: 0;
  text-align: center;
}
.controls {
  display: flex;
  gap: 16px;
  align-items: center;
  flex-wrap: wrap;
  justify-content: center;
}
.stat {
  font-weight: 600;
  background: var(--blue-light);
  color: var(--blue-dark);
  padding: 6px 10px;
  border-radius: 8px;
}
.btn {
  background: var(--blue-main);
  color: white;
  border: none;
  border-radius: 8px;
  padding: 8px 14px;
  cursor: pointer;
  font-weight: 600;
}
.btn:hover {
  background: var(--blue-dark);
}
.progress-bar {
  width: 100%;
  height: 10px;
  background: #cce0ff;
  border-radius: 5px;
  overflow: hidden;
  margin-top: 6px;
}
.progress-fill {
  width: 100%;
  height: 100%;
  background: var(--blue-main);
  transition: width 1s linear;
}
.grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--gap);
  justify-items: center;
}
.card {
  width: 100%;
  max-width: var(--card-size);
  aspect-ratio: 1 / 1;
  perspective: 1000px;
  cursor: pointer;
}
.inner {
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transition: transform 0.4s ease;
  border-radius: 10px;
}
.card.flipped .inner {
  transform: rotateY(180deg);
}
.face {
  position: absolute;
  inset: 0;
  border-radius: 10px;
  overflow: hidden;
  backface-visibility: hidden;
}
.front {
  transform: rotateY(180deg);
}
.front img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.back {
  background: var(--blue-main);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 22px;
  font-weight: bold;
}
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 50, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s;
}
.overlay.show {
  opacity: 1;
  pointer-events: all;
}
.modal {
  background: white;
  border-radius: 12px;
  padding: 24px;
  text-align: center;
  color: var(--blue-dark);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
}
.modal h2 {
  margin-top: 0;
  color: var(--blue-main);
}
@media (max-width: 700px) {
  .grid { grid-template-columns: repeat(2, 1fr); }
  :root { --card-size: 120px; }
}
</style>
</head>
<body>
<div class="container">
  <header>
    <h1>–ó–Ω–∞–π–¥–∏ –ø–∞—Ä—É ‚Äî Hyundai</h1>
    <div class="controls">
      <div class="stat">‚è± –ß–∞—Å: <span id="time">15</span> —Å</div>
      <div class="stat">üß© –ü–∞—Ä–∏: <span id="pairs">0</span> / 4</div>
      <button id="restart" class="btn">üîÑ –ü–æ—á–∞—Ç–∏ –∑–Ω–æ–≤—É</button>
    </div>
    <div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div>
  </header>
  <div id="board" class="grid"></div>
</div>

<div id="overlay" class="overlay">
  <div class="modal">
    <h2 id="message-title"></h2>
    <p id="message-body"></p>
    <button id="play-again" class="btn">–ì—Ä–∞—Ç–∏ —â–µ —Ä–∞–∑</button>
  </div>
</div>

<script>
(function() {
  const IMAGES = [
    { id: 'santafe', src: 'santafe.jpg' },
    { id: 'staria', src: 'staria.jpg' },
    { id: 'tucson', src: 'tucson.jpg' },
    { id: 'venue', src: 'venue.jpg' }
  ];

  let deck = [];
  let first = null, second = null, lock = false;
  let pairs = 0, timeLeft = 15, timer;
  let gamesWon = parseInt(localStorage.getItem('gamesWon') || '0');
  
  const board = document.getElementById('board');
  const pairsEl = document.getElementById('pairs');
  const timeEl = document.getElementById('time');
  const overlay = document.getElementById('overlay');
  const title = document.getElementById('message-title');
  const body = document.getElementById('message-body');
  const playAgain = document.getElementById('play-again');
  const restart = document.getElementById('restart');
  const progressFill = document.getElementById('progress-fill');

  function shuffle(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  function buildBoard() {
    board.innerHTML = '';
    deck = shuffle(IMAGES.concat(IMAGES).map((img, i) => ({...img, uid: i})));
    deck.forEach(card => {
      const el = document.createElement('div');
      el.className = 'card';
      el.innerHTML = `
        <div class="inner">
          <div class="face front"><img src="${card.src}" alt=""></div>
          <div class="face back">?</div>
        </div>`;
      el.dataset.id = card.id;
      el.addEventListener('click', () => flipCard(el));
      board.appendChild(el);
    });
  }

  function flipCard(card) {
    if (lock || card.classList.contains('flipped')) return;
    card.classList.add('flipped');
    if (!first) {
      first = card;
      return;
    }
    second = card;
    lock = true;
    if (first.dataset.id === second.dataset.id) {
      pairs++;
      pairsEl.textContent = pairs;
      first = second = null;
      lock = false;
      if (pairs === 4) endGame(true);
    } else {
      setTimeout(() => {
        first.classList.remove('flipped');
        second.classList.remove('flipped');
        first = second = null;
        lock = false;
      }, 700);
    }
  }

  function startTimer() {
    clearInterval(timer);
    timeLeft = 15;
    timeEl.textContent = timeLeft;
    progressFill.style.width = "100%";
    timer = setInterval(() => {
      timeLeft--;
      timeEl.textContent = timeLeft;
      progressFill.style.width = (timeLeft / 15 * 100) + "%";
      if (timeLeft <= 0) {
        clearInterval(timer);
        endGame(false);
      }
    }, 1000);
  }

  function endGame(win) {
    clearInterval(timer);
    overlay.classList.add('show');
    if (win) {
      gamesWon++;
      localStorage.setItem('gamesWon', gamesWon);
      title.textContent = "üéâ –í–∏ –≤–∏–≥—Ä–∞–ª–∏!";
      if (gamesWon % 5 === 0) {
        body.textContent = "üéÅ –í—ñ—Ç–∞—î–º–æ! –û—Ç—Ä–∏–º–∞–π—Ç–µ –ø–æ–¥–∞—Ä—É–Ω–æ–∫ —É –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞!";
      } else {
        body.textContent = "–í—ñ—Ç–∞—î–º–æ! –í–∏ –∑–Ω–∞–π—à–ª–∏ –≤—Å—ñ –ø–∞—Ä–∏ –≤—á–∞—Å–Ω–æ!";
      }
    } else {
      title.textContent = "‚è∞ –ß–∞—Å –≤–∏–π—à–æ–≤!";
      body.textContent = "–°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑!";
    }
  }

  function restartGame() {
    pairs = 0;
    pairsEl.textContent = pairs;
    first = second = null;
    lock = false;
    overlay.classList.remove('show');
    buildBoard();
    startTimer();
  }

  restart.addEventListener('click', restartGame);
  playAgain.addEventListener('click', restartGame);

  buildBoard();
  startTimer();
})();
</script>
</body>
</html>

